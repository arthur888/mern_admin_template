{"version":3,"sources":["../../../../server/modules/blogs/models/index.js"],"names":["blogSchema","title","type","String","required","description","category","status","enum","default","_createdBy","Types","ObjectId","ref","createdAt","Date","updatedAt","versionKey","pre","next","currentDate","Blog","model"],"mappings":";;;;;;;AAAA;;;;;;AAEA;AACO,IAAMA,kCAAa,qBAAW;AACnCC,SAAO;AACLC,UAAMC,MADD;AAELC,cAAU,CAAC,IAAD,EAAO,yBAAP;AAFL,GAD4B;AAKnCC,eAAa;AACXH,UAAMC,MADK;AAEXC,cAAU,CAAC,IAAD,EAAO,+BAAP;AAFC,GALsB;AASnCE,YAAU;AACRJ,UAAMC;AADE,GATyB;AAYnCI,UAAQ;AACNL,UAAMC,MADA;AAENK,UAAM,CAAC,QAAD,EAAW,UAAX,CAFA;AAGNC,aAAS;AAHH,GAZ2B;AAiBnCC,cAAY;AACVR,UAAM,iBAAOS,KAAP,CAAaC,QADT;AAEVC,SAAK,MAFK;AAGVT,cAAU,CAAC,IAAD,EAAO,8BAAP;AAHA,GAjBuB;AAsBnCU,aAAWC,IAtBwB;AAuBnCC,aAAWD;AAvBwB,CAAX,EAwBvB,EAAEE,YAAY,KAAd,EAxBuB,CAAnB;;AA0BP;;;;AAIA;AACAjB,WAAWkB,GAAX,CAAe,MAAf,EAAuB,UAAUC,IAAV,EAAgB;AACrC;AACA,MAAIC,cAAc,IAAIL,IAAJ,EAAlB;;AAEA;AACA,OAAKC,SAAL,GAAiBI,WAAjB;;AAEA;AACA,MAAI,CAAC,KAAKN,SAAV,EAAqB;AACnB,SAAKA,SAAL,GAAiBM,WAAjB;AACD;;AAEDD;AACD,CAbD;;AAeA;AACA;AACA,IAAME,OAAO,mBAASC,KAAT,CAAe,MAAf,EAAuBtB,UAAvB,CAAb;;AAEA;kBACeqB,I","file":"index.js","sourcesContent":["import mongoose, { Schema } from 'mongoose';\n\n// create a blogSchema\nexport const blogSchema = new Schema({\n  title: {\n    type: String,\n    required: [true, 'Blog title is required.'],\n  },\n  description: {\n    type: String,\n    required: [true, 'Blog description is required.'],\n  },\n  category: {\n    type: String,\n  },\n  status: {\n    type: String,\n    enum: ['Active', 'Inactive'],\n    default: 'Active',\n  },\n  _createdBy: {\n    type: Schema.Types.ObjectId,\n    ref: 'User',\n    required: [true, 'Blog created by is required.'],\n  },\n  createdAt: Date,\n  updatedAt: Date,\n}, { versionKey: false });\n\n/*\n * userSchema middlewares\n */\n\n// on every save, add the date\nblogSchema.pre('save', function (next) {\n  // get the current date\n  var currentDate = new Date();\n\n  // change the updated_at field to current date\n  this.updatedAt = currentDate;\n\n  // if created_at doesn't exist, add to that field\n  if (!this.createdAt) {\n    this.createdAt = currentDate;\n  }\n\n  next();\n});\n\n// the schema is useless so far\n// we need to create a model using it\nconst Blog = mongoose.model('Blog', blogSchema);\n\n// make this available to our users in our Node applications\nexport default Blog;\n"]}