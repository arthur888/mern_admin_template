{"version":3,"sources":["../../../../server/modules/blogs/controllers/index.js"],"names":["getAllBlog","addBlog","getBlog","req","res","next","find","status","sort","createdAt","populate","exec","err","blogs","console","log","json","success","message","data","body","newBlog","Object","assign","_createdBy","authUser","_id","save","blog","findById","params"],"mappings":";;;;;QAKgBA,U,GAAAA,U;QAmBAC,O,GAAAA,O;QAqBAC,O,GAAAA,O;;AA7ChB;;;;;;AAEA;;;AAGO,SAASF,UAAT,CAAoBG,GAApB,EAAyBC,GAAzB,EAA8BC,IAA9B,EAAoC;AACzC,kBAAKC,IAAL,CAAU;AACRC,YAAQ;AADA,GAAV,EAEGC,IAFH,CAEQ;AACNC,eAAW,CAAC;AADN,GAFR,EAIGC,QAJH,CAIY,YAJZ,EAI0BC,IAJ1B,CAI+B,UAACC,GAAD,EAAMC,KAAN,EAAgB;AAC7C,QAAID,GAAJ,EAAS,OAAOP,KAAKO,GAAL,CAAP;AACTE,YAAQC,GAAR,CAAY,qBAAZ,EAAmCF,KAAnC;AACA,WAAOT,IAAIG,MAAJ,CAAW,GAAX,EAAgBS,IAAhB,CAAqB;AAC1BC,eAAS,IADiB;AAE1BC,eAAS,cAFiB;AAG1BC,YAAMN;AAHoB,KAArB,CAAP;AAKD,GAZD;AAaD;;AAED;;;AAGO,SAASZ,OAAT,CAAiBE,GAAjB,EAAsBC,GAAtB,EAA2BC,IAA3B,EAAiC;AACtCS,UAAQC,GAAR,CAAY,qBAAZ,EAAmCZ,IAAIiB,IAAvC;AACA,MAAIC,UAAU,qBAAd;AACAC,SAAOC,MAAP,CAAcF,OAAd,EAAuBlB,IAAIiB,IAA3B,EAAiC;AAC/BI,gBAAYrB,IAAIsB,QAAJ,CAAaC;AADM,GAAjC;AAGAZ,UAAQC,GAAR,CAAY,oBAAZ,EAAkCM,OAAlC;AACAA,UAAQM,IAAR,CAAa,UAAUf,GAAV,EAAegB,IAAf,EAAqB;AAChC,QAAIhB,GAAJ,EAAS,OAAOP,KAAKO,GAAL,CAAP;;AAET,WAAOR,IAAIG,MAAJ,CAAW,GAAX,EAAgBS,IAAhB,CAAqB;AAC1BC,eAAS,IADiB;AAE1BC,eAAS,eAFiB;AAG1BC,YAAMS;AAHoB,KAArB,CAAP;AAKD,GARD;AASD;;AAED;;;AAGO,SAAS1B,OAAT,CAAiBC,GAAjB,EAAsBC,GAAtB,EAA2BC,IAA3B,EAAiC;AACtC,kBAAKwB,QAAL,CAAc1B,IAAI2B,MAAJ,CAAWJ,GAAzB,EAA8BhB,QAA9B,CAAuC,YAAvC,EAAqDC,IAArD,CAA0D,UAACC,GAAD,EAAMgB,IAAN,EAAe;AACvE,QAAIhB,GAAJ,EAAS,OAAOP,KAAKO,GAAL,CAAP;;AAET,WAAOR,IAAIG,MAAJ,CAAW,GAAX,EAAgBS,IAAhB,CAAqB;AAC1BC,eAAS,IADiB;AAE1BC,eAAS,UAFiB;AAG1BC,YAAMS;AAHoB,KAArB,CAAP;AAKD,GARD;AASD","file":"index.js","sourcesContent":["import Blog from '../models/index.js';\n\n/**\n * get blogs\n */\nexport function getAllBlog(req, res, next) {\n  Blog.find({\n    status: 'Active',\n  }).sort({\n    createdAt: -1,\n  }).populate('_createdBy').exec((err, blogs) => {\n    if (err) return next(err);\n    console.log('getAllBlog(blogs): ', blogs);\n    return res.status(200).json({\n      success: true,\n      message: 'Get all blog',\n      data: blogs,\n    });\n  });\n}\n\n/**\n * add blog\n */\nexport function addBlog(req, res, next) {\n  console.log('addBlog(req.body): ', req.body);\n  let newBlog = new Blog();\n  Object.assign(newBlog, req.body, {\n    _createdBy: req.authUser._id,\n  });\n  console.log('addBlog(newBlog): ', newBlog);\n  newBlog.save(function (err, blog) {\n    if (err) return next(err);\n\n    return res.status(201).json({\n      success: true,\n      message: 'Created blog!',\n      data: blog,\n    });\n  });\n}\n\n/**\n * get blog\n */\nexport function getBlog(req, res, next) {\n  Blog.findById(req.params._id).populate('_createdBy').exec((err, blog) => {\n    if (err) return next(err);\n\n    return res.status(200).json({\n      success: true,\n      message: 'Get blog',\n      data: blog,\n    });\n  });\n}\n"]}